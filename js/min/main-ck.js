function Type1(o,t,r){if(this.type="type1","random"==r){var e=Math.floor(4*Math.random())+1,n=90*(e-1);r=e}else var n=90*parseInt(r);$("#"+o).css({"-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),this.rotate=n,this.position=parseInt(r),this.listeners=[1],this.activators=[1]}function Type2(o,t,r){if(this.type="type2","random"==r){var e=Math.floor(4*Math.random())+1,n=90*(e-1);r=e}else var n=90*parseInt(r);$("#"+o).css({"-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),this.rotate=n,this.position=parseInt(r),this.listeners=[1,3],this.activators=[1,3]}function Type3(o,t,r){if(this.type="type3","random"==r){var e=Math.floor(4*Math.random())+1,n=90*(e-1);r=e}else var n=90*parseInt(r);$("#"+o).css({"-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),this.rotate=n,this.position=parseInt(r),this.listeners=[1,5],this.activators=[1,5]}function Type4(o,t,r){if(this.type="type4","random"==r){var e=Math.floor(4*Math.random())+1,n=90*(e-1);r=e}else var n=90*parseInt(r);$("#"+o).css({"-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),this.rotate=n,this.position=parseInt(r),this.listeners=[1,3,5],this.activators=[1,3,5]}function Type5(o,t,r){if(this.type="type5","random"==r){var e=Math.floor(4*Math.random())+1,n=90*(e-1);r=e}else var n=90*parseInt(r);$("#"+o).css({"-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),this.rotate=n,this.position=parseInt(r),this.listeners=[1,3,5,7],this.activators=[1,3,5,7]}function Box(o,t,r){if(this.type="box","random"==r){var e=Math.floor(4*Math.random())+1,n=90*(e-1);r=e}else var n=90*parseInt(r);$("#"+o).css({"-webkit-transform":"rotate("+n+"deg)","-moz-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}),this.rotate=n,this.position=parseInt(r),this.listeners=[0],this.activators=[0]}function Level1(){var o={rows:{1:{columns:{1:{type:"Type1","color:":"random",position:"random"},2:{type:"Type3","color:":"random",position:"random"},3:{type:"Type4","color:":"random",position:"random"},4:{type:"Type5","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}},2:{columns:{1:{type:"Type2","color:":"random",position:"random"},2:{type:"Type2","color:":"random",position:"random"},3:{type:"Type2","color:":"random",position:"random"},4:{type:"Type2","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}},3:{columns:{1:{type:"Type2","color:":"random",position:"random"},2:{type:"Type2","color:":"random",position:"random"},3:{type:"Type2","color:":"random",position:"random"},4:{type:"Type2","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}},4:{columns:{1:{type:"Type2","color:":"random",position:"random"},2:{type:"Type2","color:":"random",position:"random"},3:{type:"Type2","color:":"random",position:"random"},4:{type:"Type2","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}},5:{columns:{1:{type:"Type2","color:":"random",position:"random"},2:{type:"Type2","color:":"random",position:"random"},3:{type:"Type2","color:":"random",position:"random"},4:{type:"Type2","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}},6:{columns:{1:{type:"Type2","color:":"random",position:"random"},2:{type:"Type2","color:":"random",position:"random"},3:{type:"Type2","color:":"random",position:"random"},4:{type:"Type2","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}},7:{columns:{1:{type:"Type2","color:":"random",position:"random"},2:{type:"Type2","color:":"random",position:"random"},3:{type:"Type2","color:":"random",position:"random"},4:{type:"Type2","color:":"random",position:"random"},5:{type:"Type2","color:":"random",position:"random"},6:{type:"Type2","color:":"random",position:"random"},7:{type:"Type2","color:":"random",position:"random"}}}}};this.grid=o}function ajax(string,file,code){var response;return $.ajax({url:file,data:string,async:!0,dataType:"html",type:"POST",error:function(o,t,r){alert(t+" "+r+"\n"+o.responseText),hideLoading()},complete:function(data,status){eval(code)}}),response}function ajaxNoAsync(string,file,code){var response;return $.ajax({url:file,data:string,async:!1,dataType:"html",type:"POST",success:function(data){response=data,eval(code)},error:function(){response="error"}}),response}function getJSON(path,code){var string="";return $.ajax({url:path,data:string,async:!1,dataType:"json",success:function(data){response=data,eval(code)},error:function(o,t,r){return"undefined"}}),string}function JSONP(o,t,r){$.ajax({url:t,async:!1,dataType:"JSONP",data:{q:o},contentType:"application/json",type:"GET",crossDomain:!0,jsonpCallback:r,success:function(o){},error:function(o,t,r){console.log("readyState: "+o.readyState),console.log("responseText: "+o.responseText),console.log("status: "+o.status),console.log("text status: "+t),console.log("error: "+r)}})}function startFunction(){level=new Level1,levelObject=level.grid,buildLevel(levelObject)}function selectLevel(){$.getJSON("settings.json",function(o){levelObject=o.levels[level],buildLevel(levelObject)})}function buildLevel(levelObject){var item=$("#itemTemplate").html();window.column=Object.keys(levelObject.rows[1].columns).length,window.row=Object.keys(levelObject.rows).length;var counter=1,r=1;$.each(levelObject.rows,function(key,val){$("#gameBoard").append("<div id='row"+r+"' class='divRow'></div>");var c=1;$.each(val.columns,function(key2,val2){$("#row"+r).append("<div id='column"+c+"' class='divCell'></div>");var string=item;string=string.replace("{ID}",counter),string=string.replace("{type}",val2.type),$("#row"+r+" #column"+c).append(string);var random=Math.floor(5*Math.random())+1;1==random?$("#"+counter).css("background-color","rgb(216, 216, 216)"):2==random?$("#"+counter).css("background-color","rgb(205, 205, 255)"):3==random?$("#"+counter).css("background-color","rgb(240, 176, 176)"):4==random?$("#"+counter).css("background-color","rgb(253, 208, 125)"):5==random&&$("#"+counter).css("background-color","rgb(250, 250, 176)");var code="new "+val2.type+'("'+counter+'","'+val2.color+'", "'+val2.position+'")';window.objects["item"+counter]=eval(code);var activators=window.objects["item"+counter].activators;for(i=0;i<activators.length;i++)activators[i]=activators[i]+2*(window.objects["item"+counter].position-1),activators[i]>8&&(activators[i]=activators[i]-8);var listeners=window.objects["item"+counter].listeners;for(i=0;i<listeners.length;i++)listeners[i]=listeners[i]+2*(window.objects["item"+counter].position-1),listeners[i]>8&&(listeners[i]=listeners[i]-8);counter++,c++}),r++})}function rotate(o){var t=$(o).attr("id"),r=window.objects["item"+t].rotate+90;window.objects["item"+t].rotate=r;var e=parseInt(window.objects["item"+t].position);$(o).css({"-webkit-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)","-ms-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"}),window.objects["item"+t].position=4==e?1:parseInt(e)+1;var n=window.objects["item"+t].activators;for(i=0;i<n.length;i++)n[i]=n[i]+2,n[i]>8&&(n[i]=n[i]-8);var a=window.objects["item"+t].listeners;for(i=0;i<a.length;i++)a[i]=a[i]+2,a[i]>8&&(a[i]=a[i]-8);setTimeout(function(){checkCollision(o,t)},400)}function checkCollision(o,t){var r=$(o).closest(".divRow").attr("id").replace("row",""),e=$(o).closest(".divCell").attr("id").replace("column","");if("1"==r)var n=1;else var n=0;if(parseInt(r)==window.row)var s=1;else var s=0;if("1"==e)var i=1;else var i=0;if(parseInt(e)==window.column)var c=1;else var c=0;var p=window.objects["item"+t].activators,d=window.objects["item"+t].position;for(a=0;a<p.length;a++){if(1!=n&&1==p[a]){var m=parseInt(t)-window.column,y=window.objects["item"+m].listeners;for(l=0;l<y.length;l++)5==y[l]&&($("#"+m).click(),$("#"+m).css("background-color",$("#"+t).css("background-color")))}if(1!=c&&3==p[a]){var v=parseInt(t)+1,y=window.objects["item"+v].listeners;for(l=0;l<y.length;l++)7==y[l]&&($("#"+v).click(),$("#"+v).css("background-color",$("#"+t).css("background-color")))}if(1!=s&&5==p[a]){var u=parseInt(t)+window.column,y=window.objects["item"+u].listeners;for(l=0;l<y.length;l++)1==y[l]&&($("#"+u).click(),$("#"+u).css("background-color",$("#"+t).css("background-color")))}if(1!=i&&7==p[a]){var f=parseInt(t)-1,y=window.objects["item"+f].listeners;for(l=0;l<y.length;l++)3==y[l]&&($("#"+f).click(),$("#"+f).css("background-color",$("#"+t).css("background-color")))}}}var objects=[];
//# sourceMappingURL=./main-ck.map